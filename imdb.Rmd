---
title: "Visualizing IMDB ratings"

output:
  html_document:
    toc: true
    toc_float: true
    includes:
      in_header: 
        header.html
navbar:
  title: "J Steven Raquel"
  left:
    - text: "Home"
      href: index.html
    - text: "About Me"
      href: about_me.html
    - text: "Portfolio"
      menu:
        - text: "Classifying wine quality"
          href: FinalProject.html
        - text: "Visualizing IMDB ratings"
          href: imdb.html
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
```

----

This was a very simple visualization I did to test out some of the abilities of `ggplot2`, an `R` package with some more robust options that go beyond the base level visualization abilities of `R`.  

We seek to visualize movies over the past few decades to see how quality (or perceived quality at least) has changed over time. There is no actual analysis done on this data, save for the kind of intuitive deduction that can be made from observing the visualizations. Having said that, I would be interested in delving more deeply into these data with the skills in data mining that I've gained since having done this.

----

```{r, include = FALSE}
library(ggplot2)
library(gridExtra)
library(readr)
```


This was a very simple visualization I did to test out some of the abilities of `ggplot2`, an `R` package with some more robust options that go beyond the base level visualization abilities of `R`.  

We seek to visualize movies over the past few decades to see how quality (or perceived quality at least) has changed over time. There is no actual analysis done on this data, save for the kind of intuitive deduction that can be made from observing the visualizations. Having said that, I would be interested in delving more deeply into these data with the skills in data mining that I've gained since having done this.

Data was found on [Kaggle.com](https://www.kaggle.com/deepmatrix/imdb-5000-movie-dataset) and drawn from the [Internet Movie Database](imdb.com).

----

# Subsetting the data

Here we `subset()` the data in order to work with a data that makes sense for our purposes. I decided that it would be good to only look at films that were voted on by at least 20,000 people, to ensure that these ratings would be more accurate. For example, a universally praised (or panned) film that only has 1000 votes, probably because it was only seen by a very small minority, probably shouldn't factor into our appraisal of the the quality of films of the decade in general.


```{r, data cleaning}
# ggplot2, gridExtra, readr are loaded
# The dataset is loaded as 'movies'
movies <- read.csv("~/Documents/git-workspace/imdb-ratings/movie_metadata.csv",
                   stringsAsFactors = FALSE, na.strings = c(NA, "NA"), skipNul = TRUE,
                   fill = FALSE)

# This subsets the movies to only those which have been voted on by more than 20000 users
movies <- subset(movies, num_voted_users >= 20000)
# To remove any rows with missing values
movies <- movies[complete.cases(movies),]

# Reducing the data.frame to relevant variables
keeps <- c("imdb_score", "title_year", "movie_title", "director_name")
movies <- movies[keeps]
```

----

# The 10s

The data for the decade that began in 2010 only goes up until 2016, so naturally it is a smaller subset of data than the rest. 

Let's take a look at the best and worst films of the decade.

```{r, organizing the 10s}
tens <- subset(movies, title_year >= 2010)
tens <- tens[order(tens$imdb_score, decreasing = TRUE),]
head(tens)
```

Note the fact that the three best films of this 6-year period (as voted by IMDB users) were all by Christopher Nolan. Also tied for third is my favorite director, Quentin Tarantino with *Django Unchained*.

```{r, tens tail}
tail(tens)
```

On the other side of things, the worst film of this period was apparently Justin Bieber's concert film, *Never Say Never*. Two parody films topped the list. 


```{r, 2010-present day}
tens_plot <- ggplot(tens, aes(x = factor(title_year), y = imdb_score)) + geom_boxplot()
tens_plot <- tens_plot + theme(legend.position = "none") + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + scale_y_continuous(breaks = seq(0,10,2))
tens_plot <- tens_plot + labs(title = "2010s Films", x = "Year of Release", y = "IMDB Rating")
tens_plot
```

Modern films seem to be pretty mediocre across the board (between 6-7), but if nothing else, each year seems to be consistent with the last. The sole high outlier of this decade was the 2010 film *Inception*, directed by Christopher Nolan. 


----

# The 00s

```{r, organizing the 00s}
zeroes <- subset(movies, title_year >= 2000 & title_year < 2010)
zeroes <- zeroes[order(zeroes$imdb_score, decreasing = TRUE),]
head(zeroes)
```

All three of Peter Jackson's *The Lord of the Rings* trilogy cracked the top 6, along with another Nolan Batman film. Two foreign films made the top of this list, the Brazilian film *City of God* (aka *Cidade de Deus*) and a personal favorite, along with the animated Miyazaki classic, *Spirited Away*.

```{r, zeroes tail}
tail(zeroes)
```

Notably, two of the worst films of this decade were by Jason Friedberg, namely the parody films *Epic Movie* and *Disaster Movie*. He is also responsible for *Vampires Suck*, one of the worst rated films of the 2010s. 


```{r, 2000-2009}
zeroes_plot <- ggplot(zeroes, aes(x = factor(title_year), y = imdb_score)) + geom_boxplot()
zeroes_plot <- zeroes_plot + theme(legend.position = "none") + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + scale_y_continuous(breaks = seq(0,10,2))
zeroes_plot <- zeroes_plot + labs(title = "2000s Films", x = "Year of Release", y = "IMDB Rating")
zeroes_plot
```

----

# The 90s

```{r, organizing the nineties}
nineties <- subset(movies, title_year >= 1990 & title_year < 2000)
nineties <- nineties[order(nineties$imdb_score, decreasing = TRUE),]
head(nineties)
```

Three of my favorite films came out in the 1990s and topped this list: *Pulp Fiction*, *Fight Club*, and *The Matrix*. The decade's top film, *The Shawshank Redemption*, actually was a box office disappointment because of its direct competition with Tarantino's film.

```{r}
tail(nineties)
```

Two films based on fighting video games (my personal favorite genre) landed in the bottom spots: *Street Fighter*, notably starring Jean Claude van Damme and Kylie Minogue, and *Mortal Kombat: Annihilation*. Also included was the only Batman film starring George Clooney, replacing Val Kilmer. It would be the last Batman film until Nolan's reboot in 2005 (the third of his Batman trilogy of course topping the charts in the 2010s). Arnold Schwarzeneggar was Mr. Freeze in this film, possibly the 'punniest' villain of all time. 

```{r, 1990-1999}
nineties_plot <- ggplot(nineties, aes(x = factor(title_year), y = imdb_score)) + geom_boxplot()
nineties_plot <- nineties_plot + theme(legend.position = "none") + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + scale_y_continuous(breaks = seq(0,10,2))
nineties_plot <- nineties_plot + labs(title = "1990s Films", x = "Year of Release", y = "IMDB Rating")
nineties_plot
```



----

# The 80s

```{r}
eighties <- subset(movies, title_year >= 1980 & title_year < 1990)
eighties <- eighties[order(eighties$imdb_score, decreasing = TRUE),]
head(eighties)
```

Robert Zemeckis, who made the last list in the 90s for *Forrest Gump*, also topped this decade with one of my favorites, *Back to the Future*. The two latter films in the original Star Wars trilogy, Episodes V and VI, also topped the list.

```{r, eighties tail}
tail(eighties)
```

Speaking of sequels however, the worst films of the 80s were several ill-advised sequels to well-known classics, many of which were done without the involvement of original directors or cast members. Of the films here, only *Howard the Duck* is not a sequel. Notably also is the inclusion of the 5th and 8th *Friday the 13th* films. *Halloween III* is the also only film in the series that doesn't not feature the antagonist Michael Myers. 

*Jaws: The Revenge* was the fourth and final sequel to the series, with only the original film involving Steven Spielberg, who of course directed the 2nd best rated film of this decade, *Raiders of the Lost Ark* as well as *Schindler's List* in the 90s.


```{r, 1980-1989}
eighties_plot <- ggplot(eighties, aes(x = factor(title_year), y = imdb_score)) + geom_boxplot()
eighties_plot <- eighties_plot + theme(legend.position = "none") + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + scale_y_continuous(breaks = seq(0,10,2))
eighties_plot <- eighties_plot + labs(title = "1980s Films", x = "Year of Release", y = "IMDB Rating")
eighties_plot
```

----

# Conclusions

Now let's take a look at all four plots in unison and see if we can't conjure any ideas. 

```{r, final}
grid.arrange(tens_plot, zeroes_plot, nineties_plot, eighties_plot, nrow=2, ncol=2, top = "IMDB Ratings Over the Decades")
```

From the looks of it, the 1980s was overall perhaps the best decade for films. For most of the decade, films on average rated around ~7 or ~8, with few if any lower outliers. Conversely, the 2000s have a number of uncharacteristically bad films which drag down the averages per year quite a bit. One wonders how the 2000s would be seen in terms of film history without these.

Several directors came out strong not only in individual decades, but across them. Christopher Nolan had as many as 4 between 2000 and 2016, with 3 in one decade, and 2 from his Dark Knight Trilogy. Robert Zemeckis and Stephen Spielberg each had one film per decade, and Peter Jackson's Lord of the Rings Trilogy took three of the top spots in the decade it was released.

On the other hand, Jason Friedberg was possibly the most panned director by audiences, given that he released two of the worst films of the 2000s as well as one in the 2010s as voted by IMDB users.

Several of the worst films were sequels to well-known and successful films including horror franchises like *Friday the 13th*, *Halloween*, comedy films like *The Mask*, or the classic that is *Jaws*. Also important to note is that several parody films, including those by Jason Friedberg and the Scary Movie franchise, appeared in the worst film lists. 


----
Data found on [Kaggle.com](https://www.kaggle.com/deepmatrix/imdb-5000-movie-dataset) and drawn from the [Internet Movie Database](imdb.com)
